str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.)
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_which(. != "")
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_which(., != "")
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% which(., != "")
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% which(. != "")
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_which(., pattern = "", negate = TRUE)
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_which(., pattern = "")
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_subset(.,str_which(., pattern = ""))
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>%  subset(.,str_which(., pattern = ""))
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_remove_all(., pattern = "https|[0-9]|\\b(ou|co|au|dans|la|du|t|des?|d|et|à|ou|c|en|le|mes?|par|ça|est)\\b")
str_split(litt_twitter_reduit$text[1:5], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_remove_all(., pattern = "https|[0-9]|\\b(ou|co|au|dans|la|du|t|des?|d|et|à|ou|c|en|le|mes?|par|ça|est|vous|québec|litt(é|e)rature)\\b")
str_split(litt_twitter_reduit$text[6:20], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_remove_all(., pattern = "https|[0-9]|\\b(ou|co|au|dans|la|du|t|des?|d|et|à|ou|c|en|le|mes?|par|ça|est|vous|québec|litt(é|e)rature)\\b")
str_split(litt_twitter_reduit$text[6:20], pattern = "\\W") %>% unlist(.) %>% str_to_lower(.) %>% str_remove_all(., pattern = "https|[0-9]|\\b(ou|co|au|dans|la|du|t|des?|d|et|à|ou|letters|en|le|mes?|par|ça|est|vous|québec|litt(é|e)rature)\\b")
strsplit(tolower(litt_twitter_reduit$text[1:5]))
strsplit(tolower(litt_twitter_reduit$text[1:5]), "\\W")
unlist(strsplit(tolower(litt_twitter_reduit$text[1:5]), "\\W"))
mots_tweets <- unlist(strsplit(tolower(litt_twitter_reduit$text[1:5]), "\\W"))
non_vide <- which(mots_tweets != "")
non_vide
mots_tweets_v <- mots_tweets[non_vide]
mots_tweets_v
mots_tweets_v[!lsa::stopwords_fr]
mots_tweets_v[!=lsa::stopwords_fr]
mots_vides <- which(mots_tweets_v != lsa::stopwords_fr)
mots_vides
lsa::stopwords_fr
which(mots_tweets_v != lsa::stopwords_fr)
mots_tweets_v
lsa::stopwords_fr
which(mots_tweets_v != lsa::stopwords_fr)
clean_tweet = gsub("&amp", "", litt_twitter_reduit$text[1:5])
clean_tweet = gsub("(RT|via)((?:\\b\\W*@\\w+)+)", "", clean_tweet)
clean_tweet = gsub("@\\w+", "", clean_tweet)
clean_tweet = gsub("[[:punct:]]", "", clean_tweet)
clean_tweet = gsub("[[:digit:]]", "", clean_tweet)
clean_tweet = gsub("http\\w+", "", clean_tweet)
clean_tweet = gsub("[ \t]{2,}", "", clean_tweet)
clean_tweet = gsub("^\\s+|\\s+$", "", clean_tweet)
clean_tweet
clean_tweet = gsub("&amp", "", litt_twitter_reduit$text[1:5])
clean_tweet
clean_tweet = gsub("(RT|via)((?:\\b\\W*@\\w+)+)", "", clean_tweet)
clean_tweet
clean_tweet = gsub("@\\w+", "", clean_tweet)
clean_tweet
clean_tweet = gsub("http\\w+", "", clean_tweet)
clean_tweet
clean_tweet = gsub("@\\.+\\s", "", litt_twitter_reduit$text[1:5])
clean_tweet
clean_tweet = gsub("http\\.+\\s", "", clean_tweet)
clean_tweet
clean_tweet = gsub("http\\.+\\s", "", clean_tweet)
clean_tweet
clean_tweet = gsub("@.+\\s", "", litt_twitter_reduit$text[1:5])
clean_tweet = gsub("http.+\\s", "", clean_tweet)
clean_tweet
clean_tweet = gsub("@.+\\s", "", litt_twitter_reduit$text[1:5])
clean_tweet
clean_tweets <- function(x) {
x %>%
# Remove URLs
str_remove_all(" ?(f|ht)(tp)(s?)(://)(.*)[.|/](.*)") %>%
# Remove mentions e.g. "@my_account"
str_remove_all("@[[:alnum:]_]{4,}") %>%
# Remove hashtags
str_remove_all("#[[:alnum:]_]+") %>%
# Replace "&" character reference with "and"
str_replace_all("&amp;", "and") %>%
# Remove puntucation, using a standard character class
str_remove_all("[[:punct:]]") %>%
# Remove "RT: " from beginning of retweets
str_remove_all("^RT:? ") %>%
# Replace any newline characters with a space
str_replace_all("\\\n", " ") %>%
# Make everything lowercase
str_to_lower() %>%
# Remove any trailing whitespace around the text
str_trim("both")
}
clean_tweets(litt_twitter_reduit$text[1:5])
library(gutenbergr)
gutenberg_metadata
gutenberg_metadata
gutenberg_metadata %>%
filter(title == "Illusions")
gutenberg_metadata %>%
filter(title == "illusions")
gutenberg_works(author == "Balzac, Honoré de")
f768 <- system.file("extdata", "768.zip", package = "gutenbergr")
wuthering_heights <- gutenberg_download(768,
files = f768,
mirror = "http://aleph.gutenberg.org")
wuthering_heights
books <- gutenberg_download(c(768, 1260),
meta_fields = "title",
files = c(f768, f1260),
mirror = "http://aleph.gutenberg.org")
f1260 <- system.file("extdata", "1260.zip", package = "gutenbergr")
books <- gutenberg_download(c(768, 1260),
meta_fields = "title",
files = c(f768, f1260),
mirror = "http://aleph.gutenberg.org")
books
if(!"rtweet" %in% rownames(installed.packages())) {install.packages("rtweet")}
gutenberg_authors
gutenberg_authors %>% str_detect(., "Balzac")
gutenberg_authors %>% str_subset(., "Balzac")
gutenberg_authors
gutenberg_authors %>% str_subset(author, "Balzac")
gutenberg_authors %>% str_subset(author, "Balzac")
gutenberg_authors
gutenberg_authors %>% str_subset(author, pattern = "Balzac")
gutenberg_authors
str_subset(gutenberg_authors$author, pattern = "Balzac")
gutenberg_authors %>% filter(str_detect(author, pattern = "Balzac"))
gutenberg_works(author == "Balzac, Honoré de")
gutenberg_works(author == "Balzac, Honoré de") %>% filter(language == "fr")
gutenberg_works(author == "Balzac, Honoré de") %>% filter(., language == "fr")
gc()
library(gutenbergr)
gutenberg_metadata
gutenberg_works(author == "Balzac, Honoré de")
gutenberg_works(author == "Balzac, Honoré de" & language == "fr")
gutenberg_works(author == "Balzac, Honoré de")
gutenberg_works(str_detect(author, "Balzac"))
library(tidyverse)
gutenberg_works(str_detect(author, "Balzac"))
balzac_works <- gutenberg_works(str_detect(author, "Balzac"))
table(balzac_works$language)
balzac_works <- gutenberg_works(str_detect(language, "fr"))
balzac_works
balzac_works <- gutenberg_works(str_detect(author, "Balzac"))
balzac_works <- gutenberg_works(str_detect(author, "Balzac"), all_languages = TRUE)
balzac_works
table(balzac_works$language)
balzac_works <- gutenberg_works(str_detect(author, "Balzac"), rights = NULL, all_languages = TRUE)
balzac_works
table(balzac_works$language)
gutenberg_authors()
gutenberg_authors
gutenberg_authors[author == "Balzac, Honoré de",]
gutenberg_authors[author == "Balzac, Honoré de"]
gutenberg_authors
gutenberg_authors %>% filter(str_detect(., pattern = "Balzac"))
gutenberg_authors %>% filter(str_detect(pattern = "Balzac"))
gutenberg_authors %>% filter(., str_detect(pattern = "Balzac"))
gutenberg_authors %>% filter(., str_detect(author, pattern = "Balzac"))
gutenberg_works(author == "Balzac, Honoré de") %>%
gutenberg_download(meta_fields = "title")
gutenberg_works(author == "Balzac, Honoré de")
gutenberg_works(language != "en") %>%
gutenberg_download(meta_fields = "title")
gutenberg_works(language != "en")
gutenberg_languages
gutenberg_languages[language == "fr"]
gutenberg_works(
...,
languages = "fr",
only_text = TRUE,
rights = c("Public domain in the USA.", "None"),
distinct = TRUE,
all_languages = FALSE,
only_languages = TRUE
)
gutenberg_works(
languages = "fr")
gutenberg_works(languages = "fr" & author == "Balzac, Honoré de")
gutenberg_works(languages = "fr" & author == "Balzac, Honoré")
gutenberg_works(languages = "fr")
french_work <- gutenberg_works(languages = "fr")
french_work %>% filter(str_detect(author, "Balzac"))
french_work %>% filter(str_detect(author, "Balzac|Hugo"))
french_work %>% filter(str_detect(author, "Balzac|Hugo")) %>% pull(gutenberg_id)
balzac_hugo_id <- french_work %>% filter(str_detect(author, "Balzac|Hugo")) %>% pull(gutenberg_id)
bal_hugo <- system.file("extdata", "5423.zip", package = "gutenbergr")
bal_hugo_ouvrages <- gutenberg_download(balzac_hugo_id,
files = bal_hugo,
mirror = "http://aleph.gutenberg.org")
bal_hugo_ouvrages <- gutenberg_download(balzac_hugo_id,
files = 5423,
mirror = "http://aleph.gutenberg.org")
bal_hugo_ouvrages <- gutenberg_download(5423,
files = balzac_hugo_id,
mirror = "http://aleph.gutenberg.org")
bal_hugo
balzac_hugo_id
bal_hugo <- system.file("extdata", balzac_hugo_id, package = "gutenbergr")
bal_hugo_ouvrages <- gutenberg_download(5423,
files = balzac_hugo_id,
mirror = "http://aleph.gutenberg.org")
paste0(f,balzac_hugo_id)
paste0("f",balzac_hugo_id)
bal_hugo <- system.file("extdata", balzac_hugo_id, package = "gutenbergr")
bal_hugo_ouvrages <- gutenberg_download(balzac_hugo_id,
files = paste0("f",balzac_hugo_id),
mirror = "http://aleph.gutenberg.org")
balzac_hugo_id
bal_hugo_ouvrages <- gutenberg_download(balzac_hugo_id)
balzac_hugo_id
bal_hugo_ouvrages <- gutenberg_download(c(5423))
my_mirror <- "http://mirrors.xmission.com/gutenberg/"
bal_hugo_ouvrages <- gutenberg_download(c(5423), mirror = my_mirror)
bal_hugo_ouvrages <- gutenberg_download(balzac_hugo_id, mirror = my_mirror)
bal_hugo_ouvrages
BHlivres <- gutenberg_download(balzac_hugo_id, mirror = my_mirror)
BHlivres <- gutenberg_download(balzac_hugo_id, mirror = my_mirror, meta_fields = "title")
BHlivres$title
BHlivres %>% count(books)
BHlivres %>% count(title)
library(tidytext)
mots <- BHlivres %>% unnest_tokens(word, text)
mots
word_counts <- words %>%
anti_join(lsa::stopwords_fr, by = "word") %>%
count(title, word, sort = TRUE)
word_counts <- mots %>%
anti_join(lsa::stopwords_fr, by = "word") %>%
count(title, word, sort = TRUE)
mots
mots %>%
anti_join(lsa::stopwords_fr, by = "word") %>%
count(title, word, sort = TRUE)
mots
stopwords <- tibble(word = lsa::stopwords_fr)
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts
?unnest_tokens()
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en)
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "tait", "c'est", "tre", "pr", "d'un"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "tait", "c'est", "tre", "pr", "d'un", "d'une", "qu'il", "j'ai"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts
french_work
StendhalVerne_id <- french_work %>% filter(str_detect(author, "Stendhal|Verne")) %>% pull(gutenberg_id)
BHlivres <- gutenberg_download(StendhalVerne_id, mirror = my_mirror, meta_fields = "title")
mots <- BHlivres %>% unnest_tokens(word, text)
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "tait", "c'est", "tre", "pr", "d'un", "d'une", "qu'il", "j'ai"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "tait", "c'est", "tre", "pr", "d'un", "d'une", "qu'il", "qu’il", "j'ai"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts
word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle")
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "tait", "c'est", "tre", "pr", "d'un", "d'une", "qu'il", "qu’il", "j'ai", "qu'elle", "ch", "n'est", "n'avait"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle")
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "res", "apr", "tait", "c'est", "tre", "pr", "d'un", "d'une", "qu'il", "qu’il", "j'ai", "qu'elle", "ch", "n'est", "n'avait"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle")
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "res", "apr", "tait", "c'est", "tre", "pr", "d'un", "d'une", "qu'il", "qu’il", "j'ai", "qu'elle", "ch", "n'est", "n'avait", "verri", "id", "qu'on", "l'on", "voil", "s'il"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle")
stopwords <- tibble(word = c(lsa::stopwords_fr, lsa::stopwords_en, "re", "nal", "res", "apr", "tait", "c'est", "tre", "pr", "d'un", "d'une", "qu'il", "qu’il", "j'ai", "qu'elle", "ch", "n'est", "n'avait", "verri", "id", "qu'on", "l'on", "voil", "s'il"))
word_counts <- mots %>%
anti_join(stopwords, by = "word") %>%
count(title, word, sort = TRUE)
word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle")
ggplot(word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle"), aes(x = reorder(word, n), y = n))+
geom_bar()
ggplot(word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle"), aes(x = reorder(word, n), y = n))+
geom_col()
ggplot(word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle") %>% slice(1:25), aes(x = reorder(word, n), y = n))+
geom_col()
ggplot(word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle") %>% slice(1:25), aes(x = reorder(word, n), y = n))+
geom_col()+
coord_flip()
ggplot(word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle") %>% slice(1:25), aes(x = reorder(word, n), y = n))+
geom_col()+
coord_flip()+
xlab=NULL
ggplot(word_counts %>% filter(title == "Le Rouge et le noir: chronique du XIXe siècle") %>% slice(1:25), aes(x = reorder(word, n), y = n))+
geom_col()+
coord_flip()+
xlab(NULL)
StendhalVerne_id
mon_miroir <- "http://mirrors.xmission.com/gutenberg/"
ouvragesFrancais <- gutenberg_works(languages = "fr")
Verne_id <- french_work %>% filter(str_detect(author, "Stendhal|Verne")) %>% pull(gutenberg_id)
Verne_id <- french_work %>% filter(str_detect(author, "Verne")) %>% pull(gutenberg_id)
VerneLivres <- gutenberg_download(Verne_id, mirror = my_mirror, meta_fields = "title")
VerneLivres <- gutenberg_download(Verne_id, mirror = mon_miroir, meta_fields = "title")
str(VerneLivres)
table(VerneLivres$title)
french_work %>% filter(str_detect(author, "Verne"))
mon_miroir <- "http://mirrors.xmission.com/gutenberg/"
ouvragesFrancais <- gutenberg_works(languages = "fr")
Verne_id <- ouvragesFrancais %>% filter(str_detect(author, "Verne")) %>% pull(gutenberg_id)
ouvragesFrancais
unique(ouvragesFrancais$author)
auteurs_uniques <- unique(ouvragesFrancais$author)
auteurs_uniques
ouvragesFrancais %>% filter(str_detect(author, "Daudet, Alphonse"))
ouvragesFrancais %>% filter(str_detect(author, "Girardin, Delphine de"))
ouvragesFrancais %>% filter(str_detect(author, "Rachilde"))
Rachilde_id <- ouvragesFrancais %>% filter(str_detect(author, "Rachilde")) %>% pull(gutenberg_id)
RachildeLivres <- gutenberg_download(Rachilde_id, mirror = mon_miroir, meta_fields = "title")
str(RachildeLivres)
str(RachildeLivres)
RachildeLivres
RachildeLivres$text <- iconv(RachildeLivres$text, "latin1", "UTF-8")
str(RachildeLivres)
RachildeLivres$title <- iconv(RachildeLivrestitle, "latin1", "UTF-8")
str(RachildeLivres)
# Vérification
str(RachildeLivres)
# Observation des 100 premières lignes d'un document
RachildeLivres[1:100, "title"=="Monsieur Vénus"]
# Observation des 100 premières lignes d'un document
RachildeLivres[1:100, ]
# Observation des 100 premières lignes d'un document
RachildeLivres[1:200, ]
# Observation des 100 premières lignes d'un document
RachildeLivres[200:300, ]
# Observation des 100 premières lignes d'un document
RachildeLivres[300:400, ]
# Observation des 100 premières lignes d'un document
RachildeLivres[which(RachildeLivres$text == "CHAPITRE I"), ]
# Observation des 100 premières lignes d'un document
monsieurVenus <- RachildeLivres$title == "Monsieur Vénus"
monsieurVenus
# Observation des 100 premières lignes d'un document
monsieurVenus <- RachildeLivres[RachildeLivres$title == "Monsieur Vénus",]
monsieurVenus
monsieurVenus[which(monsieurVenus$text == "CHAPITRE I"), ]
debut <- which(monsieurVenus$text == "CHAPITRE I")
debut
monsieurVenus[5700:nrow(monsieurVenus), ]
fin <- which(monsieurVenus$text == "FIN")
fin
monsieurVenus_net <- monsieurVenus[debut:fin, ]
View(monsieurVenus_net)
table(RachildeLivres$title)
MarquiseSade <- RachildeLivres[RachildeLivres$title == "La Marquise de Sade",]
marquiseSade <- RachildeLivres[RachildeLivres$title == "La Marquise de Sade",]
demonAbsurde <- RachildeLivres[RachildeLivres$title == "Le Démon de l'Absurde"]
demonAbsurde <- RachildeLivres[RachildeLivres$title == "Le Démon de l'Absurde",]
# Tokénisation de Monsieur Vénus
monsieurVenus_vecteur <- paste(monsieurVenus_net, collapse = " ")
# Imposer partout les minuscules
monsieurVenus_minuscules <- tolower(monsieurVenus_vecteur)
# Séparer tous les mots
monsieurVenus_l <- strsplit(monsieurVenus_minuscules, "[\\s[:punct:]]")
monsieurVenus_l
View(monsieurVenus_l)
View(monsieurVenus)
# =============================================================> Tokénisation de Monsieur Vénus
# Former une seule longue chaine de caractères
monsieurVenus_vecteur <- paste(monsieurVenus_net$text, collapse = " ")
# Imposer partout les minuscules
monsieurVenus_minuscules <- tolower(monsieurVenus_vecteur)
# Séparer tous les mots
monsieurVenus_l <- strsplit(monsieurVenus_minuscules, "[\\s[:punct:]]")
monsieurVenus_l
# Séparer tous les mots
monsieurVenus_l <- strsplit(monsieurVenus_minuscules, "[\\s,\\.;:]")
monsieurVenus_l
# Séparer tous les mots
monsieurVenus_l <- strsplit(monsieurVenus_minuscules, "\\W")
monsieurVenus_l
monsieurVenus_v <- unlist(monsieurVenus_l)
mots_vides <- monsieurVenus_v[which(monsieurVenus_v %in% lsa::stopwords_fr)]
mots_vides
mots_vides <- which(monsieurVenus_v %in% lsa::stopwords_fr)
mots_vides
monsieurVenus_v[!mots_vides]
monsieurVenus_v
monsieurVenus_v[-mots_vides]
monsieurVenus_v_net <- monsieurVenus_v[-mots_vides]
monsieurVenus_v_net
monsieurVenus_v_net[which(monsieurVenus_v_net != "")]
monsieurVenus_v_net <- monsieurVenus_v_net[which(monsieurVenus_v_net != "")]
length(table(monsieurVenus_v_net))
table(monsieurVenus_v_net)[1:10]
table(monsieurVenus_v_net)>100
table(monsieurVenus_v_net)>100==TRUE
table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>100]
table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>50]
table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>30]
table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>200]
table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>20]
table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>20]|>order(.)
order(table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>20])
table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>20]
monsieurVenus20mots <- table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>20]
sort(monsieurVenus20mots, decreasing = TRUE)
monsieurVenus20mots <- sort(table(monsieurVenus_v_net)[table(monsieurVenus_v_net)>20], decreasing = TRUE)
monsieurVenus20mots
names(monsieurVenus20mots)
ggplot(monsieurVenus20mots, aes(x=names(monsieurVenus20mots), y = monsieurVenus20mots))+
geom_bar()
monsieurVenus20mots
names(monsieurVenus20mots)
pull(monsieurVenus20mots)
attr(monsieurVenus20mots)
str(monsieurVenus20mots)
as.integer(monsieurVenus20mots)
ggplot(monsieurVenus20mots, aes(x=names(monsieurVenus20mots), y = as.integer(monsieurVenus20mots)))+
geom_bar()
names(monsieurVenus20mots)
ggplot(aes(x=names(monsieurVenus20mots), y = as.integer(monsieurVenus20mots)))+
geom_bar()
mVenusMots <- tibble(mots = names(monsieurVenus20mots),
valeurs = as.integer(monsieurVenus20mots))
ggplot(mVenusMots, aes(x=mots, y = valeurs))+
geom_bar()
ggplot(mVenusMots, aes(x=mots, y = valeurs))+
geom_cols()
library(ggplot2)
ggplot(mVenusMots, aes(x=mots, y = valeurs))+
geom_cols()
ggplot(mVenusMots, aes(x=mots, y = valeurs))+
geom_col()
ggplot(mVenusMots, aes(x=mots, y = valeurs))+
geom_col() +
coord_flip()
ggplot(mVenusMots, aes(x=reorder(mots, valeurs), y = valeurs))+
geom_col() +
coord_flip()
ggplot(mVenusMots[1:20], aes(x=reorder(mots, valeurs), y = valeurs))+
geom_col() +
coord_flip()
ggplot(mVenusMots[1:20,], aes(x=reorder(mots, valeurs), y = valeurs))+
geom_col() +
coord_flip()
ggplot(mVenusMots[1:20,], aes(x=reorder(mots, valeurs), y = valeurs))+
geom_col() +
coord_flip() +
xlab(NULL)
mVenusMots
monsieurVenus20mots
marquiseSade[200:300,]
marquiseSade <- iconv(marquiseSade, from = "Latin1", to = "UTF-8")
marquiseSade[200:300,]
marquiseSade <- RachildeLivres[RachildeLivres$title == "La Marquise de Sade",]
marquiseSade$text <- iconv(marquiseSade$text, from = "Latin1", to = "UTF-8")
marquiseSade[200:300,]
marquiseSade <- RachildeLivres[RachildeLivres$title == "La Marquise de Sade",]
marquiseSade[200:300,]
monsieurVenus
RachildeLivres$title <- iconv(RachildeLivres$title, "latin1", "UTF-8")
# Vérification
str(RachildeLivres)
RachildeLivres <- gutenberg_download(Rachilde_id, mirror = mon_miroir, meta_fields = "title")
str(RachildeLivres)
# L'encodage du document original est "Latin1", alors que R interprète, par défaut, en "UTF-8". On peut demander la conversion des chaînes de caractères avec la fonction `iconv()`
RachildeLivres$text <- iconv(RachildeLivres$text, "latin1", "UTF-8")
str(RachildeLivres)
# Combien de lignes pour chaque roman?
table(RachildeLivres$title)
unique(RachildeLivres$title)
monsieurVenus <- RachildeLivres[RachildeLivres$title == "Monsieur Vénus",]
demonAbsurde <- RachildeLivres[RachildeLivres$title == "Le Démon de l'Absurde",]
marquiseSade <- RachildeLivres[RachildeLivres$title == "La Marquise de Sade",]
length(monsieurVenus)
View(demonAbsurde)
# Séparation des trois romans
monsieurVenus <- RachildeLivres[RachildeLivres$title == "Monsieur Vénus", 2]
demonAbsurde <- RachildeLivres[RachildeLivres$title == "Le Démon de l'Absurde", 2]
marquiseSade <- RachildeLivres[RachildeLivres$title == "La Marquise de Sade", 2]
# Séparation des trois romans
monsieurVenus <- paste(RachildeLivres[RachildeLivres$title == "Monsieur Vénus", 2], collapse = " ")
# Séparation des trois romans
monsieurVenus <- paste(as.character(RachildeLivres[RachildeLivres$title == "Monsieur Vénus", 2], collapse = " "))
str(monsieurVenus)
# Séparation des trois romans
monsieurVenus <- RachildeLivres[RachildeLivres$title == "Monsieur Vénus", 2]
str(monsieurVenus)
monsieurVenus_v <- paste(monsieurVenus$text, collapse = " ")
str(monsieurVenus_v)
demonAbsurde_v <- paste(demonAbsurde, collapse = " ")
marquiseSade_v <- paste(marquiseSade, collapse = " ")
unique(RachildeLivres$title)
RachildeRomans_l <- list(monsieurVenus_v, demonAbsurde_v, marquiseSade_v)
unique(RachildeLivres$title)
tableau_synthese <- tibble(titre = unique(RachildeLivres$title),
texte = RachildeRomans_l)
tableau_synthese
RachildeRomans_t <- tibble(texte = c(monsieurVenus_v, demonAbsurde_v, marquiseSade_v))
tableau_synthese <- tibble(titre = unique(RachildeLivres$title),
texte = RachildeRomans_t)
tableau_synthese
tibble(texte = c(monsieurVenus_v, demonAbsurde_v, marquiseSade_v))
RachildeRomans_t <- tibble(texte = list(monsieurVenus_v, demonAbsurde_v, marquiseSade_v))
RachildeRomans_t
RachildeRomans_t <- tibble(texte = c(monsieurVenus_v,demonAbsurde_v, marquiseSade_v))
RachildeRomans_t
